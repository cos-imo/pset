load() {
    local start_msg="$1"
    local success_msg="$2"
    local error_msg="$3"
    shift 3

    gum spin --title "$start_msg" -- "$@"
    local status=$?

    if [ $status -eq 0 ]; then
        echo "$success_msg"
    else
        echo "$error_msg" >&2
        exit $status
    fi
}

